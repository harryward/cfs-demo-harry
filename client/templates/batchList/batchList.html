<template name="batchList">

<div class="batchList-container">

    {{#if elasticResults}}
        <h4>{{elasticResults.hits.total}} documents found <small>in {{elasticResults.took}} seconds</small></h4>
    {{/if}}

    <!-- div class="btn btn-default pull-right fileTypeFilter">{{#if showFiles}}Hide{{else}}Show{{/if}} Files</div -->

    <div class="row">
        <table class="searchResults">
            <thead>
            <th>&nbsp;</th>
            <th data-field="title"><a>Title <i class="material-icons">swap vertical circle</i></a></th>
            <th data-field="name"><a>Name <i class="material-icons">swap vertical circle</i></a></th>
            <th data-field="date"><a>Date <i class="material-icons">swap vertical circle</i></a></th>
            <th data-field="summary"><a>Summary <i class="material-icons">swap vertical circle</i></a></th>
            <th data-field="category"><a>Category <i class="material-icons">swap vertical circle</i></a></th>
            <th>&nbsp;</th>
            <!-- th data-field="star"><a><i class="material-icons">star</i> <i class="material-icons">swap vertical circle</i></a></th -->
            </thead>
            <tbody>
            {{#each elasticResults.hits.hits}}
                <tr>
                    <td><span class="badge">{{rounder _score}}</span></td>
                    <td class="title" colspan="3">
                        <div>
                            <a class="title" href="/edit/batch/{{thisBatch._id}}?elasticid={{_id}}">{{thisBatch.title}}</a><br>
                            <span class="text-muted">{{thisBatch.userObj.profile.name}} | {{formatDate thisBatch.date}}</span>
                        </div>
                    </td>
                    <td>{{{stripHTML thisBatch.summary}}}</td>
                    <td>{{thisBatch.category}}</td>
                    <td><a><i class="material-icons">more_vert</i></a></td>
                    <!-- td class="docStar"><i class="material-icons">star</i> <i class="material-icons">star border</i></td -->
                </tr>
            {{/each}}
            </tbody>
        </table>

    </div>


    <!-- end table layout -->

    <div class="row ">
        <div class="col-sm-8">
            <pre>// rawElastic
                {{rawElastic}}
            </pre>
            <pre>// rawTickets
                {{rawTickets}}
            </pre>

        </div>

        <div class="col-sm-4">
            <div class="row">
                <div class="col-xs-12">
                    <pre>// query rawFilter docSearchQuery
                        {{rawFilter}}</pre>
                </div>
                <div class="col-xs-12">
                    <pre>// query rawProjection queryArgs
                        {{rawProjection}}</pre>
                </div>
                <div class="col-xs-12">
                    <pre>// form rawForm formBuilderObj
                        {{rawForm}}</pre>
                </div>
            </div>
        </div>
    </div>
</div>


{{#with tickets}}
    <div class="text-center pagBar">
        <p class="pagtitle">Pages (not dynamic yet)</p>
        <!--#todo make dynamic based on data-->
        <ul class="pagination pagination-sm">
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
            <li><a href="#">5</a></li>
        </ul>
    </div>
{{/with}}

</template>
